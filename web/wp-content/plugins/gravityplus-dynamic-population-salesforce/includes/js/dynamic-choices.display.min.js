function gfp_add_dynamic_salesforce_events(e,_,a){if(_==gfp_dynamic_salesforce.form_id)for(var f=0;f<gfp_dynamic_salesforce.search_fields.length;f++)jQuery("#input_"+gfp_dynamic_salesforce.form_id+"_"+gfp_dynamic_salesforce.search_fields[f].replace(".","_")).change({field_id:gfp_dynamic_salesforce.search_fields[f],form_id:_},gfp_maybe_populate_salesforce_record)}function gfp_maybe_populate_salesforce_record(e){var _=e.data.field_id;void 0===gfp_dynamic_salesforce.search_field_values&&(gfp_dynamic_salesforce.search_field_values={});var a=jQuery(this).val(),f={},s=[];for(var r in gfp_dynamic_salesforce.field_info)if(gfp_dynamic_salesforce.field_info.hasOwnProperty(r)){f[r]=gfp_dynamic_salesforce.field_info[r].length,void 0===gfp_dynamic_salesforce.search_field_values[r]&&(gfp_dynamic_salesforce.search_field_values[r]={});for(var l=0;l<f[r];l++)if(_==gfp_dynamic_salesforce.field_info[r][l]&&0<a.length){s.push(r),gfp_dynamic_salesforce.search_field_values[r][_]=a;break}}for(var i=0;i<s.length;i++)r=s[i],Object.keys(gfp_dynamic_salesforce.search_field_values[r]).length==f[r]&&gfp_populate_salesforce_record(e.data.form_id,r)}function gfp_populate_salesforce_record(f,_){gfp_disable_form_elements(f);var a={action:"gfp_get_salesforce_record",feed_id:_};Object.keys(gfp_dynamic_salesforce.search_field_values[_]).forEach(function(e){a["field_"+e]=gfp_dynamic_salesforce.search_field_values[_][e]}),jQuery.post({url:gfp_dynamic_salesforce.ajaxurl,data:a,context:f}).done(function(a){!0===a.success&&a.data.field_values.forEach(function(e,_){jQuery("#input_"+f+"_"+a.data.field_values[_].field_id.replace(".","_")).val(a.data.field_values[_].value)}),gfp_enable_form_elements(f)})}function gfp_disable_form_elements(e){var _=document.getElementById("gform_"+e).elements;for(i=0;i<_.length;i++)_[i].setAttribute("disabled","")}function gfp_enable_form_elements(e){var _=document.getElementById("gform_"+e).elements;for(i=0;i<_.length;i++)_[i].removeAttribute("disabled")}jQuery(document).on("gform_post_render",gfp_add_dynamic_salesforce_events);