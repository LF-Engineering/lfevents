!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t){e.exports=wp.blockEditor},function(e,t){e.exports=wp.i18n},function(e,t,r){"use strict";var n=r(1),o=(r.n(n),r(5)),l=(r.n(o),r(6)),a=r(10),i=r.n(a),c=r(11),u=r(12),s=(r.n(u),wp.blocks.registerBlockType),b=i.a.category,p=i.a.attributes,m=Object(o.__experimentalGetSettings)(),d=m.timezone;s("lf/button-with-expiry",{title:Object(n.__)("Button With Expiry"),category:b,description:Object(n.__)("Prompt visitors to take action with a button-style link."),keywords:["button","button with expiry","linux"],attributes:Object.assign({},p,{willExpire:{type:"bool",default:!1},expireAt:{type:"number",default:function(){var e=(new Date).toLocaleString("en-US",{timeZone:d.string});return Date.parse(e)/1e3}()},expireText:{type:"string"},size:{type:"string"}}),supports:{align:!0,alignWide:!1},parent:["lf/buttons-with-expiry"],edit:l.a,save:c.a})},function(e,t,r){var n,o;!function(){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var a=r.apply(null,n);a&&e.push(a)}else if("object"===o)for(var i in n)l.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}var l={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(r.default=r,e.exports=r):(n=[],void 0!==(o=function(){return r}.apply(t,n))&&(e.exports=o))}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(2),r(13)},function(e,t){e.exports=wp.date},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=e.borderRadius,r=void 0===t?"":t,n=e.setAttributes,o=Object(s.useCallback)(function(e){n({borderRadius:e})},[n]);return wp.element.createElement(p.PanelBody,{title:Object(u.__)("Border Settings"),initialOpen:!1},wp.element.createElement(p.RangeControl,{value:r,label:Object(u.__)("Border radius"),min:C,max:y,initialPosition:v,allowReset:!0,onChange:o}))}function l(e){var t=(e.isSelected,e.url),r=e.setAttributes,n=e.opensInNewTab,o=e.onToggleOpenInNewTab,l=Object(s.useState)(!1),a=g(l,2),i=a[0],c=a[1],b=function(){c(!0)},d=i&&wp.element.createElement(p.Popover,{position:"bottom center",onClose:function(){return c(!1)}},wp.element.createElement(m.__experimentalLinkControl,{className:"wp-block-navigation-link__inline-link-input",value:{url:t,opensInNewTab:n},onChange:function(e){var t=e.url,l=void 0===t?"":t,a=e.opensInNewTab;r({url:l}),n!==a&&o(a)}}));return wp.element.createElement(s.Fragment,null,wp.element.createElement(m.BlockControls,null,wp.element.createElement(p.ToolbarGroup,null,wp.element.createElement(p.ToolbarButton,{name:"link",icon:"admin-links",title:Object(u.__)("Link"),onClick:b}))),d)}function a(e){var t,r=e.attributes,a=e.backgroundColor,i=e.textColor,b=e.setBackgroundColor,g=e.setTextColor,f=e.fallbackBackgroundColor,x=e.fallbackTextColor,k=e.setAttributes,C=e.className,y=e.isSelected,v=r.borderRadius,_=r.linkTarget,h=r.placeholder,O=r.rel,j=r.text,E=r.url,T=r.willExpire,B=r.expireAt,S=r.expireText,P=r.size,N=Object(s.useCallback)(function(e){k({rel:e})},[k]),A=Object(s.useCallback)(function(e){var t=e?"_blank":void 0,r=O;t&&!O?r=w:t||O!==w||(r=void 0),k({linkTarget:t,rel:r})},[O,k]),I=Object(m.__experimentalUseGradient)(),R=I.gradientClass,L=I.gradientValue,z=I.setGradient,G=[P||"button-large"];return wp.element.createElement("div",{className:C},wp.element.createElement(m.RichText,{placeholder:h||Object(u.__)("Add text\u2026"),value:j,onChange:function(e){return k({text:e})},withoutInteractiveFormatting:!0,className:c()("wp-block-button__link",(t={"has-background":a.color},n(t,a.class,!L&&a.class),n(t,"has-text-color",i.color),n(t,i.class,i.class),n(t,R,R),n(t,"no-border-radius",0===v),n(t,G,!0),t)),style:Object.assign({},!a.color&&L?{background:L}:{backgroundColor:a.color},{color:i.color,borderRadius:v?v+"px":void 0})}),wp.element.createElement(l,{url:E,setAttributes:k,isSelected:y,opensInNewTab:"_blank"===_,onToggleOpenInNewTab:A}),wp.element.createElement(m.InspectorControls,null,wp.element.createElement(m.__experimentalPanelColorGradientSettings,{initialOpen:!1,title:Object(u.__)("Background & Text Color"),settings:[{colorValue:i.color,onColorChange:g,label:Object(u.__)("Text color")},{colorValue:a.color,onColorChange:b,gradientValue:L,onGradientChange:z,label:Object(u.__)("Background")}]},wp.element.createElement(m.ContrastChecker,d({initialOpen:!1},{isLargeText:!1,textColor:i.color,backgroundColor:a.color,fallbackBackgroundColor:f,fallbackTextColor:x}))),wp.element.createElement(o,{borderRadius:v,setAttributes:k}),wp.element.createElement(p.PanelBody,{title:Object(u.__)("Button Size"),initialOpen:!1},wp.element.createElement(p.SelectControl,{label:"Size",value:P||"button-large",options:[{label:"Small",value:"button-small"},{label:"Medium",value:"button-medium"},{label:"Large",value:"button-large"},{label:"X-Large",value:"button-xlarge"}],onChange:function(e){return k({size:e})}})),wp.element.createElement(p.PanelBody,{title:Object(u.__)("Expiry"),initialOpen:!0},wp.element.createElement(p.ToggleControl,{label:Object(u.__)("Button will expire"),onChange:function(e){return k({willExpire:e})},checked:!0===T}),wp.element.createElement(p.DateTimePicker,{currentDate:1e3*B,onChange:function(e){k({expireAt:Math.floor(Date.parse(e)/1e3)})}}),wp.element.createElement(p.TextControl,{label:Object(u.__)("Expiry text (optional)"),value:S,onChange:function(e){k({expireText:e})}})),wp.element.createElement(p.PanelBody,{title:Object(u.__)("Link settings"),initialOpen:!0},wp.element.createElement(p.ToggleControl,{label:Object(u.__)("Open in new tab"),onChange:A,checked:"_blank"===_}),wp.element.createElement(p.TextControl,{label:Object(u.__)("Link rel attribute (not the link url)"),value:O||"",onChange:N}))))}var i=r(3),c=r.n(i),u=r(1),s=(r.n(u),r(7)),b=(r.n(s),r(8)),p=(r.n(b),r(9)),m=(r.n(p),r(0)),d=(r.n(m),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),g=function(){function e(e,t){var r=[],_n=!0,n=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(_n=(l=a.next()).done)&&(r.push(l.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,o=e}finally{try{!_n&&a.return&&a.return()}finally{if(n)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=window,x=f.getComputedStyle,k=Object(p.withFallbackStyles)(function(e,t){var r=t.textColor,n=t.backgroundColor,o=n&&n.color,l=r&&r.color,a=!l&&e?e.querySelector('[contenteditable="true"]'):null;return{fallbackBackgroundColor:o||!e?void 0:x(e).backgroundColor,fallbackTextColor:l||!a?void 0:x(a).color}}),w="noopener",C=0,y=50,v=5;t.a=b.compose.compose([Object(m.withColors)("backgroundColor",{textColor:"color"}),k])(a)},function(e,t){e.exports=wp.element},function(e,t){e.exports=wp},function(e,t){e.exports=wp.components},function(e,t){e.exports={name:"lf/button-with-expiry",category:"layout",attributes:{url:{type:"string",source:"attribute",selector:"a",attribute:"href"},title:{type:"string",source:"attribute",selector:"a",attribute:"title"},text:{type:"string",source:"html",selector:"a"},backgroundColor:{type:"string"},textColor:{type:"string"},customBackgroundColor:{type:"string"},customTextColor:{type:"string"},linkTarget:{type:"string",source:"attribute",selector:"a",attribute:"target"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel"},placeholder:{type:"string"},borderRadius:{type:"number",default:5},gradient:{type:"string"},customGradient:{type:"string"}}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t,r=e.attributes,o=r.backgroundColor,l=r.borderRadius,c=r.customBackgroundColor,u=r.customTextColor,s=r.customGradient,b=r.linkTarget,p=r.gradient,m=r.rel,d=r.text,g=r.textColor,f=r.title,x=r.url,k=r.size,w=Object(i.getColorClassName)("color",g),C=!s&&Object(i.getColorClassName)("background-color",o),y=Object(i.getColorClassName)("gradient-background",p),v=[k||"button-large"],_=a()("wp-block-button__link",(t={"has-text-color":g||u},n(t,w,w),n(t,"has-background",o||c||s||p),n(t,C,C),n(t,y,y),n(t,"no-border-radius",0===l),n(t,v,!0),t)),h={background:s||void 0,backgroundColor:C||s||p?void 0:c,color:w?void 0:u,borderRadius:l?l+"px":void 0};return wp.element.createElement("div",null,wp.element.createElement(i.RichText.Content,{tagName:"a",className:_,href:x,title:f,style:h,value:d,target:b,rel:m}))}t.a=o;var l=r(3),a=r.n(l),i=r(0);r.n(i)},function(e,t){},function(e,t,r){"use strict";var n=r(1),o=(r.n(n),r(14)),l=r(16),a=r(17),i=r.n(a),c=r(18),u=r(19),s=(r.n(u),wp.blocks.registerBlockType),b=i.a.layout;s("lf/buttons-with-expiry",{title:Object(n.__)("Buttons With Expiry"),layout:b,category:"layout",keywords:[Object(n.__)("Buttons With Expiry"),Object(n.__)("Linux")],attributes:{},supports:{align:!0,alignWide:!1},transforms:o.a,edit:l.a,save:c.a})},function(e,t,r){"use strict";var n=r(15),o=(r.n(n),{from:[{type:"block",blocks:["core/buttons"],transform:function(e,t){return Object(n.createBlock)("lf/buttons-with-expiry",{align:e.align,count:1},t.map(function(e){return Object(n.createBlock)("lf/button-with-expiry",{url:e.attributes.url,text:e.attributes.text,title:e.attributes.text,backgroundColor:e.attributes.backgroundColor,textColor:e.attributes.textColor,customBackgroundColor:e.attributes.backgroundColor,customTextColor:e.attributes.textColor,linkTarget:e.attributes.linkTarget})}))}},{type:"block",isMultiBlock:!0,blocks:["ugb/button"],transform:function(e){return Object(n.createBlock)("lf/buttons-with-expiry",{},e.map(function(e){return Object(n.createBlock)("lf/button-with-expiry",{url:e.url,title:e.text,text:e.text,backgroundColor:e.color,customBackgroundColor:e.color,textColor:e.textColor2,customTextColor:e.textColor2,linkTarget:e.newTab})}))}}]});t.a=o},function(e,t){e.exports=wp.blocks},function(e,t,r){"use strict";function n(e){var t=e.className;return wp.element.createElement("div",{className:t},wp.element.createElement(o.__experimentalAlignmentHookSettingsProvider,{value:u},wp.element.createElement(o.InnerBlocks,{allowedBlocks:a,template:i,__experimentalUIParts:c,__experimentalMoverDirection:"horizontal"})))}var o=r(0),l=(r.n(o),r(2)),a=[l.name],i=[["lf/button-with-expiry"]],c={hasSelectedUI:!1},u={isEmbedButton:!0};t.a=n},function(e,t){e.exports={name:"lf/buttons-with-expiry",category:"layout",attributes:{}}},function(e,t,r){"use strict";function n(){return wp.element.createElement("div",null,wp.element.createElement(o.InnerBlocks.Content,null))}t.a=n;var o=r(0);r.n(o)},function(e,t){}]);