function gfp_dynamically_populate_options(i,e,_){if(gfp_dynamic_choices.form_id==e)for(var f=0;f<gfp_dynamic_choices.field_info.length;f++)"filters"in gfp_dynamic_choices.field_info[f]&&jQuery("#input_"+e+"_"+gfp_dynamic_choices.field_info[f].field_id).change({field_position:f,field_id:gfp_dynamic_choices.field_info[f].field_id,field_type:gfp_dynamic_choices.field_info[f].field_type,form_id:e},gfp_dynamically_filter_options)}function gfp_dynamically_filter_options(i){jQuery(this).prop("disabled",!0);var e=gfp_dynamic_choices.field_info[i.data.field_position].filters;if(0<e.length){for(var _=0;_<e.length;_++)gfp_reset_dynamic_option_field(i.data.form_id,e[_]);var f="select"===i.data.field_type?jQuery(this).val():jQuery(this).find("input:checked").val(),d=[{field_id:i.data.field_id,value:f}];for(_=0;_<e.length;_++)gfp_apply_filters(i.data.form_id,e[_],d);jQuery(this).prop("disabled",!1)}}function gfp_get_dynamic_field_info(i){for(var e=[],_=0;_<gfp_dynamic_choices.field_info.length;_++)if(i==gfp_dynamic_choices.field_info[_].field_id){e=gfp_dynamic_choices.field_info[_];break}return e}function gfp_reset_dynamic_option_field(i,e){var _=jQuery("#input_"+i+"_"+e);_.prop("disabled",!0);var f=gfp_get_dynamic_field_info(e);switch(f.field_type){case"select":_.html('<option value="'+f.placeholder.value+'" selected="selected">'+f.placeholder.text+"</option>");break;case"radio":case"checkbox":_.html(gfp_dynamic_choices.generating_options_message+"...")}}function gfp_apply_filters(_,f,i){var e=gfp_get_dynamic_choice_filters_for_field(f,_,i);if(0<e.length){e=gfp_build_dynamic_choice_filter(f,e);var d=gfp_get_dynamic_field_info(f),l={action:"gfp_get_dynamic_choices",form_id:_,field_id:f,feed_id:d.feed_id,filters:e};jQuery.post(gfp_dynamic_choices.ajaxurl,l).done(function(i){if(!0===i.success){var e=jQuery("#input_"+_+"_"+f);e.html(i.data.options),e.prop("disabled",!1),!0===i.data.trigger_change&&e.change()}})}}function gfp_get_dynamic_choice_filters_for_field(i,e,_){var f=gfp_get_dynamic_field_info(i);if(1<f.filtered_by.length)for(var d=0;d<f.filtered_by.length;d++){var l=f.filtered_by[d].field_id;if(l!=_[0].field_id){var n=jQuery("#input_"+e+"_"+l).val();if(!(0<n.length)){_=[];break}_[_.length]={field_id:l,value:n}}}return _}function gfp_build_dynamic_choice_filter(i,e){for(var _=gfp_get_dynamic_field_info(i),f=0;f<e.length;f++)for(var d=0;d<_.filtered_by.length;d++)if(_.filtered_by[d].field_id==e[f].field_id){e[f].column=_.filtered_by[d].column,e[f].operator=_.filtered_by[d].operator;break}return e}jQuery(document).on("gform_post_render",gfp_dynamically_populate_options);