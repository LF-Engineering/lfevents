var DynamicChoiceFilterObj=function(i){this.strings=isSet(i.strings)?i.strings:{},this.logicObject=i.logicObject,this.init=function(){var i=this;gform.addFilter("gform_conditional_object","DynamicChoiceFilterConditionalObject"),gform.addFilter("gform_conditional_logic_description","DynamicChoiceFilterConditionalDescription"),gform.addFilter("gform_conditional_logic_operators","DynamicChoiceFilterConditionalOperators"),gform.addFilter("gform_conditional_logic_fields","DynamicChoiceFilterConditionalFields"),gform.addFilter("gform_conditional_logic_values_input","DynamicChoiceFilterConditionalValuesInput"),jQuery(document).ready(function(){ToggleConditionalLogic(!0,"dynamic_choice_filter")}),jQuery("input#dynamic_choice_filter_conditional_logic").parents("form").on("submit",function(){jQuery("input#dynamic_choice_filter_conditional_logic_object").val(JSON.stringify(i.logicObject))})},this.init()};function DynamicChoiceFilterConditionalObject(i,e){return"dynamic_choice_filter"!=e?i:dynamicChoiceFilter.logicObject}function DynamicChoiceFilterConditionalDescription(i,e,t,n){if("dynamic_choice_filter"!=t)return i;var o="all"==n.conditionalLogic.logicType?"selected='selected'":"";return e.actionType=e.actionType.replace("<select",'<select style="display:none;"'),e.objectDescription=dynamicChoiceFilter.strings.objectDescription,e.logicType="<select id='"+t+"_logic_type' onchange='SetConditionalProperty(\""+t+"\", \"logicType\", jQuery(this).val());'><option value='all' "+o+">"+gf_vars.all+"</option></select>",i=makeArray(e).join(" "),i+='<div width="100%" class="gf_conditional_logic_rules_container_header"><br /><span class="inline" style="width:120px;"><strong>'+dynamicChoiceFilter.strings.fields_column_header+'</strong></span><span class="inline" style="width:120px;">&nbsp;</span><span class="inline" style="width:120px;"><strong>'+dynamicChoiceFilter.strings.values_column_header+"</strong></span></div>",dynamicChoiceFilter.rules_to_set=n.conditionalLogic.rules.length,i}function DynamicChoiceFilterConditionalOperators(i,e,t){return"dynamic_choice_filter"===e&&(i=gform.applyFilters("gfp_dynamic_choice_filter_conditional_operators",{is:"is",contains:"contains",starts_with:"startsWith",ends_with:"endsWith"},e,t)),i}function DynamicChoiceFilterConditionalFields(i,e,t){if(void 0!==dynamicChoiceFilter.rules_to_set&&0<dynamicChoiceFilter.rules_to_set){if("wpdb"===gfp_dynamic_population_admin_strings.feed_source){i=[];for(var n=gfp_dynamic_population_admin_strings.feed_wpdb_value_table_column,o=gfp_dynamic_population_admin_strings.feed_wpdb_table_columns,l=0;l<o.length;l++)n!==o[l]&&i.push({label:o[l],value:o[l]})}i=gform.applyFilters("gfp_dynamic_choice_filter_conditional_fields",i),dynamicChoiceFilter.rules_to_set-=1}return i}function DynamicChoiceFilterConditionalValuesInput(i,e,t,n,o){if("dynamic_choice_filter"===e){for(var l=[],c=0;c<form.fields.length;c++){var a=form.fields[c];if(a.id!=gfp_dynamic_population_admin_strings.feed_field_to_populate&&IsConditionalLogicField(a))if(a.inputs&&-1==jQuery.inArray(GetInputType(a),["checkbox","email"]))for(var r=0;r<a.inputs.length;r++){var s=a.inputs[r];s.isHidden||l.push({text:GetLabel(a,s.id),value:s.id})}else l.push({text:GetLabel(a),value:a.id})}jQuery.merge(l,GetEntryMetaFields(n)),l=gform.applyFilters("gfp_dynamic_choice_filter_conditional_values_options",l),i=GetRuleValuesDropDown(l,e,t,o,!1)}return i}