(()=>{"use strict";var e,r={709:()=>{const e=window.wp.blocks,r=window.wp.element,t=window.wp.components,i=window.wp.i18n,o=window.wp.blockEditor,a=window.ReactJSXRuntime;class s extends r.Component{render(){const{attributes:e,setAttributes:r}=this.props,{iframeSrc:s,transformedUrl:l,borderPresent:n,rightPadding:d}=e;function m(e){if(e)return/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/gm.test(e)}return(0,a.jsx)(o.InspectorControls,{children:(0,a.jsxs)(t.PanelBody,{title:(0,i.__)("iFrame Settings"),initialOpen:"true",children:[(0,a.jsx)(t.TextControl,{label:(0,i.__)("iFrame source URL"),value:s,placeholder:(0,i.__)("https://your-embed.com"),onChange:e=>(r({iframeSrc:e}),function(e){if(!e)return void r({transformedUrl:""});if(!m(e))return;l&&r({transformedUrl:""});const t=new RegExp("/spreadsheets/d/([a-zA-Z0-9-_]+)"),i=new RegExp("/spreadsheets/d/e/([a-zA-Z0-9-_]+)");if(e.match(i)){const t=i.exec(e)[1];r({transformedUrl:"https://docs.google.com/spreadsheets/d/e/"+t+"/pubhtml?widget=false&chrome=false&gridlines=false"})}else if(e.match(t)){const i=t.exec(e)[1];r({transformedUrl:"https://docs.google.com/spreadsheets/d/"+i+"/htmlembed?widget=false&chrome=false&gridlines=false"})}else r({transformedUrl:e})}(e))}),s&&!m(s)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.RichText,{value:"This doesn\\'t look like a valid URL",className:"url-warning"})}),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.SelectControl,{label:(0,i.__)("iFrame Preset Styles"),help:(0,i.__)("Pick a preset style for your iFrame"),value:e.iframeType,options:[{label:(0,i.__)("100% width, no border"),value:"default"},{label:(0,i.__)("Google Sheet"),value:"google-sheet"},{label:(0,i.__)("Newsletter"),value:"newsletter"}],onChange:e=>{return r({iframeType:e}),"default"===(t=e)&&r({iframeMaxWidth:"100%",iframeHeight:"700px",rightPadding:!1,borderPresent:!1}),"google-sheet"===t&&r({iframeMaxWidth:"500px",iframeHeight:"500px",borderPresent:!0,rightPadding:!0,borderColor:"#000000"}),void("newsletter"===t&&r({iframeMaxWidth:"640px",iframeHeight:"700px",rightPadding:!1,borderPresent:!1}));var t}}),(0,a.jsx)(t.TextControl,{label:(0,i.__)("iFrame Max Width"),value:e.iframeMaxWidth||"100%",help:"Constrain the width of the iFrame. Accepts px or % values.",onChange:e=>{r({iframeMaxWidth:e})}}),(0,a.jsx)(t.TextControl,{label:(0,i.__)("iFrame Height"),value:e.iframeHeight||"700px",help:"Set the fixed height of the iFrame. Only accepts px values.",onChange:e=>{r({iframeHeight:e})}}),(0,a.jsx)(t.ToggleControl,{label:"Show Border",help:"Add border around the iFrame",checked:n,onChange:()=>r({borderPresent:!n})}),n&&(0,a.jsx)(t.ToggleControl,{label:"Remove Padding on right",help:"Removes padding space on right next to scrollbar",checked:d,onChange:()=>r({rightPadding:!d})}),(0,a.jsx)(o.PanelColorSettings,{title:"Border Color",help:"Control the color of the border around the iFrame",initialOpen:!0,colorSettings:[{value:e.borderColor,onChange:e=>r({borderColor:e}),label:"Chosen Color"}]})]})]})},"lf-custom-iframe-settings")}}(0,e.registerBlockType)("lf/custom-iframe",{title:(0,i.__)("Custom iFrame","custom-iframe"),description:(0,i.__)("Embed an iframe, Google Sheet or Newsletter with better formatting","custom-iframe"),category:"common",icon:"welcome-view-site",keywords:[(0,i.__)("iframe"),(0,i.__)("google"),(0,i.__)("spreadsheet"),(0,i.__)("embed"),(0,i.__)("sheet")],supports:{html:!1},attributes:{iframeSrc:{type:"string"},iframeType:{type:"string",default:"default"},transformedUrl:{type:"string"},iframeMaxWidth:{type:"string"},iframeHeight:{type:"string"},borderColor:{type:"string"},borderPresent:{type:"boolean",default:!1},rightPadding:{type:"boolean",default:!1},align:{type:"string",default:"wide"},className:{type:"string"}},edit:e=>{const{attributes:o}=e,{align:l,className:n,transformedUrl:d}=o,m={width:"100%",maxWidth:o.iframeMaxWidth||"100%",height:o.iframeHeight||"700px",borderColor:o.borderColor||"#000000",...o.borderPresent&&{borderWidth:"1px",borderStyle:"solid",paddingTop:"1rem",paddingLeft:"1rem",paddingBottom:"1rem",paddingRight:"1rem"},...o.rightPadding&&{paddingRight:"0rem"}},h=d?(0,a.jsxs)("article",{className:`wp-lf-custom-iframe align${l} ${n||""} `,children:[(0,a.jsx)("section",{className:"iframe-overlay"}),(0,a.jsx)("iframe",{title:"iframe",id:"iframe",src:d,style:m,frameBorder:"0"})]}):(0,a.jsx)(t.Placeholder,{icon:"welcome-view-site",label:(0,i.__)("Enter the iFrame URL you want to embed in the sidebar. ")});return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(s,{...e}),h]})},save:e=>{const{attributes:t}=e,{align:i,className:o}=t,s={width:"100%",maxWidth:t.iframeMaxWidth||"100%",height:t.iframeHeight||"700px",borderColor:t.borderColor||"#000000",...t.borderPresent&&{borderWidth:"1px",borderStyle:"solid",paddingTop:"1rem",paddingLeft:"1rem",paddingBottom:"1rem",paddingRight:"1rem"},...t.rightPadding&&{paddingRight:"0rem"}};return(0,a.jsx)(r.Fragment,{children:(0,a.jsx)("div",{className:`wp-lf-custom-iframe align${i} ${o||""} loading-bg`,children:(0,a.jsx)("iframe",{title:"iframe",id:"iframe",src:t.transformedUrl,style:s,frameBorder:"0",scrolling:"yes"})})})}})}},t={};function i(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,i),a.exports}i.m=r,e=[],i.O=(r,t,o,a)=>{if(!t){var s=1/0;for(m=0;m<e.length;m++){for(var[t,o,a]=e[m],l=!0,n=0;n<t.length;n++)(!1&a||s>=a)&&Object.keys(i.O).every((e=>i.O[e](t[n])))?t.splice(n--,1):(l=!1,a<s&&(s=a));if(l){e.splice(m--,1);var d=o();void 0!==d&&(r=d)}}return r}a=a||0;for(var m=e.length;m>0&&e[m-1][2]>a;m--)e[m]=e[m-1];e[m]=[t,o,a]},i.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={57:0,350:0};i.O.j=r=>0===e[r];var r=(r,t)=>{var o,a,[s,l,n]=t,d=0;if(s.some((r=>0!==e[r]))){for(o in l)i.o(l,o)&&(i.m[o]=l[o]);if(n)var m=n(i)}for(r&&r(t);d<s.length;d++)a=s[d],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(m)},t=globalThis.webpackChunkcustom_iframe=globalThis.webpackChunkcustom_iframe||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var o=i.O(void 0,[350],(()=>i(709)));o=i.O(o)})();